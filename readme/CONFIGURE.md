.. _configuration:

Configuration
=============

Before you can send any messages, it is essential to correctly configure the connection with your SMS provider.

1. Navigate to **SMS Marketing > SMS Espa√±a Settings**.
2. The configuration screen is divided into several sections:

API Configuration
-----------------
These are the authentication details to connect with your provider.

*   **API Username**: Your API username, provided by the SMS provider.
*   **API Password**: The password or secret key associated with your API account.
*   **Sending Endpoint URL**: The specific URL to which Odoo will send requests to send SMS.
*   **Default Sender**: The name or number that will appear as the sender.

Delivery Configuration (DLR)
----------------------------
This section is crucial for Odoo to receive status updates on sent messages.

*   **DLR Webhook URL**: This is the URL you must **copy and paste** into your SMS provider's configuration panel.
*   **DLR Mask**: A numeric value that tells the provider what types of status notifications you wish to receive. The default value (`19`) is recommended.

DLR Webhook Security
--------------------
To protect your system from unauthorized requests:

*   **Webhook Secret Token**: A unique token generated by Odoo that is added to the webhook URL.
*   **Webhook HMAC Secret**: (Optional, but recommended) An additional secret key to generate a digital signature on each DLR request and verify its authenticity.

Advanced Options and Worker
---------------------------
Here you can adjust the sending behavior:

*   **Enable Flash Messages**: If checked, SMS messages will appear directly on the recipient's screen.
*   **Enable Validity Period**: Defines a maximum time (in minutes) during which the network will attempt to deliver the message.
*   **Data Coding Scheme (DCS)**: Allows choosing between ``GSM`` (standard text) and ``UCS-2`` (special characters and emojis).
*   **Worker Frequency**: Defines how often (in minutes) the sending queue will be processed.